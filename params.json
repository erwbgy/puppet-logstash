{"name":"Puppet-logstash","tagline":"","body":"# logstash\r\n\r\nInstall the logstash agent with a configuration file.\r\n\r\nTo use just:\r\n\r\n    include logstash\r\n\r\nand then specify the location of the config template in hiera - for example:\r\n\r\n    logstash::config_template: '/etc/puppet/templates/logstash/agent.conf.erb'\r\n\r\nAlternatively you call it as a parameterised class:\r\n\r\n    class { 'logstash':\r\n      config_template => '/etc/puppet/templates/logstash/agent.conf.erb'\r\n    }\r\n\r\n## Installation\r\n\r\nInstallation assumes that an 'logstash' package is available from the package\r\nrepository.  See http://download.bloonix.de/ for pre-built packages for\r\nRedHat-like and Debian-like hosts.\r\n\r\n## Configuration\r\n\r\nSee http://www.logstash.net/docs/1.1.9/ for documentation on logstash configuration.\r\n\r\nBy default the following template is used to give you a starting point:\r\n\r\n    input {                                                                 \r\n      tcp {                                                                 \r\n        format => \"json_event\"                                              \r\n        host => \"<%= @fqdn %>\"\r\n        port => 5544                                                        \r\n        type => \"awesant\"                                                   \r\n      }                                                                     \r\n    }                                                                       \r\n    filter {                                                                \r\n      grok {                                                                \r\n        match => [ \"@timestamp\", \"^%{DATE_EU:date}\" ]                       \r\n        type => \"awesant\"                                                   \r\n      }                                                                     \r\n    }\r\n    output {\r\n      file {\r\n        tags => 'syslog-messages'\r\n        message_format => \"%{@message}\"\r\n        path => \"/var/log/logstash/syslog/messages-%{date}.log\"\r\n      }\r\n      file {\r\n        tags => 'syslog-secure'\r\n        message_format => \"%{@message}\"\r\n        path => \"/var/log/logstash/syslog/secure-%{date}.log\"\r\n      }\r\n    }\r\n\r\nYou can use any facter facts in your template - for example 'fqdn' or a custom fact like 'logstash_host'.\r\n\r\n## Support\r\n\r\nLicense: Apache License, Version 2.0\r\n\r\nGitHub URL: https://github.com/erwbgy/puppet-tomcat\r\n","google":"UA-37513727-1","note":"Don't delete this file! It's used internally to help with page regeneration."}